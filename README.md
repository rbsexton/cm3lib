Various code for use on the Cortex-M3

